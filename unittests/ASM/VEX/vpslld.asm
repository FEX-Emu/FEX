%ifdef CONFIG
{
  "HostFeatures": ["AVX"],
  "RegData": {
    "XMM4":  ["0x4142434445464748", "0x7172737475767778", "0x0000000000000000", "0x0000000000000000"],
    "XMM5":  ["0x4344000047480000", "0x7374000077780000", "0x0000000000000000", "0x0000000000000000"],
    "XMM6":  ["0x0000000000000000", "0x0000000000000000", "0x0000000000000000", "0x0000000000000000"],
    "XMM7":  ["0x4142434445464748", "0x7172737475767778", "0x0000000000000000", "0x0000000000000000"],
    "XMM8":  ["0x4344000047480000", "0x7374000077780000", "0x0000000000000000", "0x0000000000000000"],
    "XMM9":  ["0x0000000000000000", "0x0000000000000000", "0x0000000000000000", "0x0000000000000000"],
    "XMM10": ["0x4142434445464748", "0x7172737475767778", "0x4142434445464748", "0x7172737475767778"],
    "XMM11": ["0x4344000047480000", "0x7374000077780000", "0x4344000047480000", "0x7374000077780000"],
    "XMM12": ["0x0000000000000000", "0x0000000000000000", "0x0000000000000000", "0x0000000000000000"],
    "XMM13": ["0x4142434445464748", "0x7172737475767778", "0x4142434445464748", "0x7172737475767778"],
    "XMM14": ["0x4344000047480000", "0x7374000077780000", "0x4344000047480000", "0x7374000077780000"],
    "XMM15": ["0x0000000000000000", "0x0000000000000000", "0x0000000000000000", "0x0000000000000000"]
  }
}
%endif

lea rdx, [rel .data]

vmovapd ymm0, [rdx]
vmovapd ymm1, [rdx + 32 * 1]
vmovapd ymm2, [rdx + 32 * 2]
vmovapd ymm3, [rdx + 32 * 3]

vpslld xmm4, xmm0, xmm1
vpslld xmm5, xmm0, xmm2
vpslld xmm6, xmm0, xmm3

vpslld xmm7, xmm0, [rdx + 32 * 1]
vpslld xmm8, xmm0, [rdx + 32 * 2]
vpslld xmm9, xmm0, [rdx + 32 * 3]

vpslld ymm10, ymm0, xmm1
vpslld ymm11, ymm0, xmm2
vpslld ymm12, ymm0, xmm3

vpslld ymm13, ymm0, [rdx + 32 * 1]
vpslld ymm14, ymm0, [rdx + 32 * 2]
vpslld ymm15, ymm0, [rdx + 32 * 3]

hlt

align 32
.data:
dq 0x4142434445464748
dq 0x7172737475767778
dq 0x4142434445464748
dq 0x7172737475767778

dq 0x0000000000000000
dq 0x5152535455565758
dq 0x5152535455565758
dq 0x5152535455565758

dq 0x0000000000000010
dq 0x5152535455565758
dq 0x5152535455565758
dq 0x5152535455565758

dq 0x0000000000000020
dq 0x5152535455565758
dq 0x5152535455565758
dq 0x5152535455565758
