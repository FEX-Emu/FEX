%ifdef CONFIG
{
  "HostFeatures": ["AVX"],
  "RegData": {
    "XMM0":  ["0x0000000200000001", "0x0000000000000000", "0x0000000000000000", "0x0000000000000000"],
    "XMM1":  ["0xFFFFFFFEFFFFFFFF", "0x0000000000000000", "0x0000000000000000", "0x0000000000000000"],
    "XMM3":  ["0x0000000200000001", "0x0000000200000001", "0x0000000000000000", "0x0000000000000000"],
    "XMM4":  ["0xFFFFFFFEFFFFFFFF", "0xFFFFFFFEFFFFFFFF", "0x0000000000000000", "0x0000000000000000"],
    "XMM5":  ["0x8000000080000000", "0x8000000080000000", "0x0000000000000000", "0x0000000000000000"]
  }
}
%endif

lea rdx, [rel .data]

vmovapd ymm0, [rdx + 32 * 2]
vmovapd ymm1, [rdx + 32 * 2]
vmovapd ymm2, [rdx]

vcvtpd2dq xmm0, xmm2
vcvtpd2dq xmm1, oword [rdx + 32 * 1]

vcvtpd2dq xmm3, ymm2
vcvtpd2dq xmm4, yword [rdx + 32 * 1]

vcvtpd2dq xmm5, yword [rdx + 32 * 3]

hlt

align 32
.data:
dq 0x3FF0000000000000
dq 0x4000000000000000
dq 0x3FF0000000000000
dq 0x4000000000000000

dq 0xBFF0000000000000
dq 0xC000000000000000
dq 0xBFF0000000000000
dq 0xC000000000000000

dq 0x4142434445464748
dq 0x5152535455565758
dq 0x4142434445464748
dq 0x5152535455565758

dq 0x7ff0000000000000
dq 0xfff0000000000000
dq 0x7ff8000000000000
dq 0x7fefffffffffffff
